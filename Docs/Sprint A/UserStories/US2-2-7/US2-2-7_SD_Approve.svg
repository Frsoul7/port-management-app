<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2113px" preserveAspectRatio="none" style="width:1942px;height:2113px;background:#FFFFFF;" version="1.1" viewBox="0 0 1942 2113" width="1942px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="306" x="817.25" y="29.5332">Sequence Diagram - Approve VVN (US 2.2.7)</text><rect fill="#FFFFFF" height="1843.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="440" y="169.9219"/><rect fill="#FFFFFF" height="75.9609" style="stroke:#181818;stroke-width:1.0;" width="10" x="774" y="200.2734"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027.5" y="352.9375"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027.5" y="507.0469"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027.5" y="628.4531"/><rect fill="#FFFFFF" height="94.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027.5" y="815.2656"/><rect fill="#FFFFFF" height="74.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027.5" y="1556.9609"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027.5" y="1662.0156"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027.5" y="1783.4219"/><rect fill="#FFFFFF" height="144.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1181" y="1228.4453"/><rect fill="#FFFFFF" height="72.9609" style="stroke:#181818;stroke-width:1.0;" width="10" x="1391" y="1094.7813"/><rect fill="#FFFFFF" height="77.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1510.5" y="1419.2031"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="74" x2="74" y1="121.2188" y2="2031.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="445" x2="445" y1="121.2188" y2="2031.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="778.5" x2="778.5" y1="121.2188" y2="2031.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="915.5" x2="915.5" y1="239.5781" y2="2031.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1032.5" x2="1032.5" y1="121.2188" y2="2031.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1185.5" x2="1185.5" y1="121.2188" y2="2031.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1395.5" x2="1395.5" y1="121.2188" y2="2031.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1515.5" x2="1515.5" y1="121.2188" y2="2031.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1635.5" x2="1635.5" y1="121.2188" y2="2031.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1768.5" x2="1768.5" y1="1134.0859" y2="2031.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1888.5" x2="1888.5" y1="1460.5547" y2="2031.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="5" y="118.1426">Port Authority Officer</text><ellipse cx="74" cy="52.1094" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M74,60.1094 L74,87.1094 M61,68.1094 L87,68.1094 M74,87.1094 L61,102.1094 M74,87.1094 L87,102.1094 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="5" y="2045.1191">Port Authority Officer</text><ellipse cx="74" cy="2056.6953" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M74,2064.6953 L74,2091.6953 M61,2072.6953 L87,2072.6953 M74,2091.6953 L61,2106.6953 M74,2091.6953 L87,2106.6953 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="224" x="333" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="210" x="340" y="110.1426">:VesselVisitNotificationsController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="224" x="333" y="2030.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="210" x="340" y="2052.1191">:VesselVisitNotificationsController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="703.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="710.5" y="110.1426">:CallerContextFactory</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="703.5" y="2030.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="710.5" y="2052.1191">:CallerContextFactory</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="864.5" y="2030.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="871.5" y="2052.1191">:CallerContext</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="977.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="984.5" y="110.1426">:PortDbContext</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="977.5" y="2030.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="984.5" y="2052.1191">:PortDbContext</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="177" x="1097.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="1104.5" y="110.1426">vvn:VesselVisitNotification</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="177" x="1097.5" y="2030.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="1104.5" y="2052.1191">vvn:VesselVisitNotification</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="1334.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="1341.5" y="110.1426">:DockAssignment</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="1334.5" y="2030.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="1341.5" y="2052.1191">:DockAssignment</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="1467.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1474.5" y="110.1426">:DecisionLog</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="1467.5" y="2030.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1474.5" y="2052.1191">:DecisionLog</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1573.5" y="118.1426">:EFCore InMemory</text><path d="M1617.5,67.6094 C1617.5,57.6094 1635.5,57.6094 1635.5,57.6094 C1635.5,57.6094 1653.5,57.6094 1653.5,67.6094 L1653.5,93.6094 C1653.5,103.6094 1635.5,103.6094 1635.5,103.6094 C1635.5,103.6094 1617.5,103.6094 1617.5,93.6094 L1617.5,67.6094 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1617.5,67.6094 C1617.5,77.6094 1635.5,77.6094 1635.5,77.6094 C1635.5,77.6094 1653.5,77.6094 1653.5,67.6094 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1573.5" y="2045.1191">:EFCore InMemory</text><path d="M1617.5,2058.1953 C1617.5,2048.1953 1635.5,2048.1953 1635.5,2048.1953 C1635.5,2048.1953 1653.5,2048.1953 1653.5,2058.1953 L1653.5,2084.1953 C1653.5,2094.1953 1635.5,2094.1953 1635.5,2094.1953 C1635.5,2094.1953 1617.5,2094.1953 1617.5,2084.1953 L1617.5,2058.1953 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1617.5,2058.1953 C1617.5,2068.1953 1635.5,2068.1953 1635.5,2068.1953 C1635.5,2068.1953 1653.5,2068.1953 1653.5,2058.1953 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="1707.5" y="2030.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="1714.5" y="2052.1191">:DockAssignment</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="1840.5" y="2030.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1847.5" y="2052.1191">:DecisionLog</text><rect fill="#FFFFFF" height="1843.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="440" y="169.9219"/><rect fill="#FFFFFF" height="75.9609" style="stroke:#181818;stroke-width:1.0;" width="10" x="774" y="200.2734"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027.5" y="352.9375"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027.5" y="507.0469"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027.5" y="628.4531"/><rect fill="#FFFFFF" height="94.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027.5" y="815.2656"/><rect fill="#FFFFFF" height="74.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027.5" y="1556.9609"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027.5" y="1662.0156"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027.5" y="1783.4219"/><rect fill="#FFFFFF" height="144.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1181" y="1228.4453"/><rect fill="#FFFFFF" height="72.9609" style="stroke:#181818;stroke-width:1.0;" width="10" x="1391" y="1094.7813"/><rect fill="#FFFFFF" height="77.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1510.5" y="1419.2031"/><polygon fill="#181818" points="428,165.9219,438,169.9219,428,173.9219,432,169.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="74" x2="434" y1="169.9219" y2="169.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="81" y="148.7139">POST /vvns/{id}/approve</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="347" x="81" y="165.0654">ApproveVvnRequest(DockCode, BerthFrom, BerthTo, Notes)</text><polygon fill="#181818" points="762,196.2734,772,200.2734,762,204.2734,766,200.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="450" x2="768" y1="200.2734" y2="200.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="305" x="457" y="195.417">FromHeaders(Request.Headers, requireUserId: false)</text><polygon fill="#181818" points="852.5,226.625,862.5,230.625,852.5,234.625,856.5,230.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="784" x2="858.5" y1="230.625" y2="230.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="791" y="225.7686">create</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="864.5" y="208.2734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="871.5" y="229.8066">:CallerContext</text><polygon fill="#181818" points="461,272.2344,451,276.2344,461,280.2344,457,276.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455" x2="778" y1="276.2344" y2="276.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="467" y="271.3779">caller</text><path d="M789,255.8828 L789,281.8828 L908,281.8828 L908,265.8828 L898,255.8828 L789,255.8828 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M898,255.8828 L898,265.8828 L908,265.8828 L898,255.8828 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="795" y="274.3779">Validation Phase</text><line style="stroke:#181818;stroke-width:1.0;" x1="450" x2="492" y1="309.5859" y2="309.5859"/><line style="stroke:#181818;stroke-width:1.0;" x1="492" x2="492" y1="309.5859" y2="322.5859"/><line style="stroke:#181818;stroke-width:1.0;" x1="451" x2="492" y1="322.5859" y2="322.5859"/><polygon fill="#181818" points="461,318.5859,451,322.5859,461,326.5859,457,322.5859" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="457" y="304.7295">ValidatePortAuthorityAccessAsync(caller)</text><polygon fill="#181818" points="1015.5,348.9375,1025.5,352.9375,1015.5,356.9375,1019.5,352.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="450" x2="1021.5" y1="352.9375" y2="352.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="457" y="348.0811">FindAsync(Organizations, caller.OrgId)</text><polygon fill="#181818" points="1623.5,379.2891,1633.5,383.2891,1623.5,387.2891,1627.5,383.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1037.5" x2="1629.5" y1="383.2891" y2="383.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275" x="1044.5" y="378.4326">SELECT * FROM Organizations WHERE Id = ?</text><polygon fill="#181818" points="1048.5,409.6406,1038.5,413.6406,1048.5,417.6406,1044.5,413.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1042.5" x2="1634.5" y1="413.6406" y2="413.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="1054.5" y="408.7842">org</text><polygon fill="#181818" points="461,439.9922,451,443.9922,461,447.9922,457,443.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455" x2="1031.5" y1="443.9922" y2="443.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="467" y="439.1357">org</text><polygon fill="#181818" points="1015.5,503.0469,1025.5,507.0469,1015.5,511.0469,1019.5,507.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="450" x2="1021.5" y1="507.0469" y2="507.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="457" y="469.4873">VesselVisitNotifications</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="457" y="485.8389">.Include(DockAssignment)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="457" y="502.1904">.SingleOrDefaultAsync(v =&gt; v.VvnGuid == id)</text><polygon fill="#181818" points="1623.5,533.3984,1633.5,537.3984,1623.5,541.3984,1627.5,537.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1037.5" x2="1629.5" y1="537.3984" y2="537.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267" x="1044.5" y="532.542">SELECT * FROM VVNs WHERE VvnGuid = ?</text><polygon fill="#181818" points="1048.5,563.75,1038.5,567.75,1048.5,571.75,1044.5,567.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1042.5" x2="1634.5" y1="567.75" y2="567.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17" x="1054.5" y="562.8936">vvn</text><polygon fill="#181818" points="461,594.1016,451,598.1016,461,602.1016,457,598.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455" x2="1031.5" y1="598.1016" y2="598.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17" x="467" y="593.2451">vvn</text><polygon fill="#181818" points="1015.5,624.4531,1025.5,628.4531,1015.5,632.4531,1019.5,628.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="450" x2="1021.5" y1="628.4531" y2="628.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379" x="457" y="623.5967">Docks.SingleOrDefaultAsync(d =&gt; d.Code == request.DockCode)</text><polygon fill="#181818" points="1623.5,654.8047,1633.5,658.8047,1623.5,662.8047,1627.5,658.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1037.5" x2="1629.5" y1="658.8047" y2="658.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="1044.5" y="653.9482">SELECT * FROM Docks WHERE Code = ?</text><polygon fill="#181818" points="1048.5,685.1563,1038.5,689.1563,1048.5,693.1563,1044.5,689.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1042.5" x2="1634.5" y1="689.1563" y2="689.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="1054.5" y="684.2998">dock</text><polygon fill="#181818" points="461,715.5078,451,719.5078,461,723.5078,457,719.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455" x2="1031.5" y1="719.5078" y2="719.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="467" y="714.6514">dock</text><polygon fill="#181818" points="1015.5,811.2656,1025.5,815.2656,1015.5,819.2656,1019.5,815.2656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="450" x2="1021.5" y1="815.2656" y2="815.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="457" y="745.0029">DockAssignments.AnyAsync(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="457" y="761.3545">a =&gt; a.DockCode == dock.Code &amp;&amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="457" y="777.7061">a.Status != CANCELLED &amp;&amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="457" y="794.0576">a.BerthTo &gt; request.BerthFrom &amp;&amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="457" y="810.4092">a.BerthFrom &lt; request.BerthTo)</text><polygon fill="#181818" points="1623.5,841.6172,1633.5,845.6172,1623.5,849.6172,1627.5,845.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1037.5" x2="1629.5" y1="845.6172" y2="845.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="332" x="1044.5" y="840.7607">SELECT COUNT(*) FROM DockAssignments WHERE ...</text><polygon fill="#181818" points="1048.5,871.9688,1038.5,875.9688,1048.5,879.9688,1044.5,875.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1042.5" x2="1634.5" y1="875.9688" y2="875.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="1054.5" y="871.1123">overlaps (bool)</text><polygon fill="#181818" points="461,905.3203,451,909.3203,461,913.3203,457,909.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455" x2="1031.5" y1="909.3203" y2="909.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="467" y="904.4639">overlaps</text><path d="M1042,888.9688 L1042,914.9688 L1214,914.9688 L1214,898.9688 L1204,888.9688 L1042,888.9688 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1204,888.9688 L1204,898.9688 L1214,898.9688 L1204,888.9688 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="1048" y="907.4639">Business Logic Execution</text><line style="stroke:#181818;stroke-width:1.0;" x1="450" x2="492" y1="975.375" y2="975.375"/><line style="stroke:#181818;stroke-width:1.0;" x1="492" x2="492" y1="975.375" y2="988.375"/><line style="stroke:#181818;stroke-width:1.0;" x1="451" x2="492" y1="988.375" y2="988.375"/><polygon fill="#181818" points="461,984.375,451,988.375,461,992.375,457,988.375" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="457" y="937.8154">approverUserId = caller.UserId != Empty</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="457" y="954.167">? caller.UserId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="457" y="970.5186">: SystemPlaceholder</text><line style="stroke:#181818;stroke-width:1.0;" x1="450" x2="492" y1="1018.7266" y2="1018.7266"/><line style="stroke:#181818;stroke-width:1.0;" x1="492" x2="492" y1="1018.7266" y2="1031.7266"/><line style="stroke:#181818;stroke-width:1.0;" x1="451" x2="492" y1="1031.7266" y2="1031.7266"/><polygon fill="#181818" points="461,1027.7266,451,1031.7266,461,1035.7266,457,1031.7266" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="457" y="1013.8701">approvalTimestamp = DateTime.UtcNow</text><polygon fill="#181818" points="1379,1090.7813,1389,1094.7813,1379,1098.7813,1383,1094.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="450" x2="1385" y1="1094.7813" y2="1094.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="457" y="1057.2217">Create(vvn.VvnGuid, dock.Code,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="457" y="1073.5732">request.BerthFrom, request.BerthTo,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="457" y="1089.9248">approverUserId, approvalTimestamp)</text><polygon fill="#181818" points="1695.5,1121.1328,1705.5,1125.1328,1695.5,1129.1328,1699.5,1125.1328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1401" x2="1701.5" y1="1125.1328" y2="1125.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="1408" y="1120.2764">&#171;create&#187;</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="1707.5" y="1102.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="1714.5" y="1124.3145">:DockAssignment</text><polygon fill="#181818" points="461,1163.7422,451,1167.7422,461,1171.7422,457,1167.7422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455" x2="1395" y1="1167.7422" y2="1167.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="467" y="1162.8857">assignment</text><polygon fill="#181818" points="1020.5,1194.0938,1030.5,1198.0938,1020.5,1202.0938,1024.5,1198.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="450" x2="1026.5" y1="1198.0938" y2="1198.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="457" y="1193.2373">DockAssignments.Add(assignment)</text><polygon fill="#181818" points="1169,1224.4453,1179,1228.4453,1169,1232.4453,1173,1228.4453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="450" x2="1175" y1="1228.4453" y2="1228.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="399" x="457" y="1223.5889">Approve(new UserId(approverUserId), assignment.DockAssignmentId)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1191" x2="1233" y1="1258.7969" y2="1258.7969"/><line style="stroke:#181818;stroke-width:1.0;" x1="1233" x2="1233" y1="1258.7969" y2="1271.7969"/><line style="stroke:#181818;stroke-width:1.0;" x1="1192" x2="1233" y1="1271.7969" y2="1271.7969"/><polygon fill="#181818" points="1202,1267.7969,1192,1271.7969,1202,1275.7969,1198,1271.7969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="1198" y="1253.9404">ApprovedById = approver</text><line style="stroke:#181818;stroke-width:1.0;" x1="1191" x2="1233" y1="1302.1484" y2="1302.1484"/><line style="stroke:#181818;stroke-width:1.0;" x1="1233" x2="1233" y1="1302.1484" y2="1315.1484"/><line style="stroke:#181818;stroke-width:1.0;" x1="1192" x2="1233" y1="1315.1484" y2="1315.1484"/><polygon fill="#181818" points="1202,1311.1484,1192,1315.1484,1202,1319.1484,1198,1315.1484" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="1198" y="1297.292">ApprovedAt = DateTime.UtcNow</text><line style="stroke:#181818;stroke-width:1.0;" x1="1191" x2="1233" y1="1345.5" y2="1345.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="1233" x2="1233" y1="1345.5" y2="1358.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="1192" x2="1233" y1="1358.5" y2="1358.5"/><polygon fill="#181818" points="1202,1354.5,1192,1358.5,1202,1362.5,1198,1358.5" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="1198" y="1340.6436">State = APPROVED</text><polygon fill="#181818" points="461,1368.5,451,1372.5,461,1376.5,457,1372.5" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455" x2="1185" y1="1372.5" y2="1372.5"/><polygon fill="#181818" points="1498.5,1415.2031,1508.5,1419.2031,1498.5,1423.2031,1502.5,1419.2031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="450" x2="1504.5" y1="1419.2031" y2="1419.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="295" x="457" y="1397.9951">Approved(vvn.VvnGuid, new UserId(approverUserId),</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="392" x="457" y="1414.3467">assignment.DockAssignmentId, approvalTimestamp, request.Notes)</text><polygon fill="#181818" points="1828.5,1461.9063,1838.5,1465.9063,1828.5,1469.9063,1832.5,1465.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1520.5" x2="1834.5" y1="1465.9063" y2="1465.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="1527.5" y="1444.6982">&#171;create&#187;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="1527.5" y="1461.0498">Outcome = Approved</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="1840.5" y="1431.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1847.5" y="1452.8301">:DecisionLog</text><polygon fill="#181818" points="461,1492.2578,451,1496.2578,461,1500.2578,457,1496.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455" x2="1514.5" y1="1496.2578" y2="1496.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="467" y="1491.4014">decisionLog</text><polygon fill="#181818" points="1020.5,1522.6094,1030.5,1526.6094,1020.5,1530.6094,1024.5,1526.6094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="450" x2="1026.5" y1="1526.6094" y2="1526.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="457" y="1521.7529">DecisionLogs.Add(decisionLog)</text><polygon fill="#181818" points="1015.5,1552.9609,1025.5,1556.9609,1015.5,1560.9609,1019.5,1556.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="450" x2="1021.5" y1="1556.9609" y2="1556.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="457" y="1552.1045">SaveChangesAsync()</text><polygon fill="#181818" points="1623.5,1583.3125,1633.5,1587.3125,1623.5,1591.3125,1627.5,1587.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1037.5" x2="1629.5" y1="1587.3125" y2="1587.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="369" x="1044.5" y="1582.4561">INSERT DockAssignment, UPDATE VVN, INSERT DecisionLog</text><polygon fill="#181818" points="1048.5,1613.6641,1038.5,1617.6641,1048.5,1621.6641,1044.5,1617.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1042.5" x2="1634.5" y1="1617.6641" y2="1617.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="1054.5" y="1612.8076">ok</text><polygon fill="#181818" points="461,1627.6641,451,1631.6641,461,1635.6641,457,1631.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455" x2="1031.5" y1="1631.6641" y2="1631.6641"/><polygon fill="#181818" points="1015.5,1658.0156,1025.5,1662.0156,1015.5,1666.0156,1019.5,1662.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="450" x2="1021.5" y1="1662.0156" y2="1662.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="457" y="1657.1592">Organizations.FindAsync(caller.OrgId)</text><polygon fill="#181818" points="1623.5,1688.3672,1633.5,1692.3672,1623.5,1696.3672,1627.5,1692.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1037.5" x2="1629.5" y1="1692.3672" y2="1692.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275" x="1044.5" y="1687.5107">SELECT * FROM Organizations WHERE Id = ?</text><polygon fill="#181818" points="1048.5,1718.7188,1038.5,1722.7188,1048.5,1726.7188,1044.5,1722.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1042.5" x2="1634.5" y1="1722.7188" y2="1722.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="1054.5" y="1717.8623">approverOrg</text><polygon fill="#181818" points="461,1749.0703,451,1753.0703,461,1757.0703,457,1753.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455" x2="1031.5" y1="1753.0703" y2="1753.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="467" y="1748.2139">approverOrg</text><polygon fill="#181818" points="1015.5,1779.4219,1025.5,1783.4219,1015.5,1787.4219,1019.5,1783.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="450" x2="1021.5" y1="1783.4219" y2="1783.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="457" y="1778.5654">Organizations.FindAsync(vvn.OrganizationId)</text><polygon fill="#181818" points="1623.5,1809.7734,1633.5,1813.7734,1623.5,1817.7734,1627.5,1813.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1037.5" x2="1629.5" y1="1813.7734" y2="1813.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275" x="1044.5" y="1808.917">SELECT * FROM Organizations WHERE Id = ?</text><polygon fill="#181818" points="1048.5,1840.125,1038.5,1844.125,1048.5,1848.125,1044.5,1844.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1042.5" x2="1634.5" y1="1844.125" y2="1844.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="1054.5" y="1839.2686">submitterOrg</text><polygon fill="#181818" points="461,1870.4766,451,1874.4766,461,1878.4766,457,1874.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455" x2="1031.5" y1="1874.4766" y2="1874.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="467" y="1869.6201">submitterOrg</text><line style="stroke:#181818;stroke-width:1.0;" x1="450" x2="492" y1="1953.8828" y2="1953.8828"/><line style="stroke:#181818;stroke-width:1.0;" x1="492" x2="492" y1="1953.8828" y2="1966.8828"/><line style="stroke:#181818;stroke-width:1.0;" x1="451" x2="492" y1="1966.8828" y2="1966.8828"/><polygon fill="#181818" points="461,1962.8828,451,1966.8828,461,1970.8828,457,1966.8828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="457" y="1899.9717">Build ApproveVvnResponse</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="457" y="1916.3232">{ VvnId, Status: APPROVED,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="465" y="1932.6748">AssignedDock, BerthFrom, BerthTo,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="465" y="1949.0264">ApproverInfo, SubmitterInfo }</text><polygon fill="#181818" points="85,2009.5859,75,2013.5859,85,2017.5859,81,2013.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="79" x2="444" y1="2013.5859" y2="2013.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="91" y="1992.3779">200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="91" y="2008.7295">ApproveVvnResponse</text><!--SRC=[lLTHR-8u47xFhvZhmofKQRhgoqcexIf0UekE1LGezyABcxZKkc1pjaENM-r_lt5YY1DITbkTzWtZyNY-RxuPJpJJ6OKP_IUdFA4mO6GboHek8DfifDXIM2p6u3_Cu2gy2d_lU1v9j91mDXLIGvJhPo6Pti7awOabL9u1KVlVteP8pHAs8Lp3MNT1bQBPWYccnq8pD26Q2QxwWcifiimUhfQDytrY_ZJRzAk-AwBO5ITC47PzwaZfdRHuDb06ZwxPOLMtt6xvQp2AOqXLm_L097z7Ih4LNrDkVKTD6vgWDy57ObKQZBoKQF985CNT-Aul98KX_qBNUyI3dkTPak7Yrg4CkZ2TpEPmYP6gosyi_Nv9oZGkkStdOillJRALzarmVP7I07fK8eTIhEtFkGW0qL7LCUbcMwAfcnZFkH7lTnA00HWtdob9gLI-lIcqwm0a_i4aVL1K3jCkF95CKUSEDvMkLmEoo1oSd-CLYQHeNRTeyf2KcKvfgtEF8pgGRFMikx0W6KkBBCBq6LblmAkvjRRKQEQW_YX9K1MHsl74B-_jD3awACemn7XQ6a_aYd3sRra8WOqvn7-7gSDAfSRAYt7PGr-pU1Jtvt0ET_UJBr3p1tzzZkzZ6APm0vyyjBven27aolNOX6gs7VggA4v0Uwt8bpmSyYJBK-hNIwA3EpF6LncTo05z8dccIsgsS7CBsn3b-aVE4C8DiFTnWaMvf-BWh9qFB9fJV9Zjj_9XmAfsWAa1c8Qc00qwQKjbNvJlmbfSPy6MZjkHfcXt2cgn_nwiLM9L6F5TYNJ9YS5A3jWCNdD52Vx31pG8PvheNC5lDz2FnlruD8e7TiTs9BWzS7HeLwv5iRwksyp5ssZiJnx6S_-yKx7f0BAyXc7OManRAZEoKU0_2f5rJXQMDNs5ORSrzNB5EDOKuEF04eY_qYGt1NMgHTcEByicYnAmRSMkaU5ulT6x9VzKtrbov66dD5rFCvBGPv5Xp_xnHIIRipKoJjORl6k0OCmwVD39MBmSwIN2S_sYVVjOJ_lo3Yev14j-bEQWcLKqggCCZeDnCnzvvPFH_YAFwGjQO6WOOF4ROxo-Ba_StXORHz0F7cf9ZDvK7sdgLtwENWmpTtNtKvZFwGkKKFqwyaxW11FMxwYz8cOuCJwRhjFUhb39tcsxKQHRabkpD0Li6auqdTvF5l6WtAqHvt9bmccIDN8khClZ17oKmkluMtHHYQavuU3WLScaCPGPNOmyZD1gP5JJo99FSfs8TO7V0YYCZnfhvROcdD59uLI7IjKuNZedpit8blQV2LzHEvlyP3CSZcVn_RoXrm0UfeDe7fl41GSJ1qvRJtpzaNdpwr8RRS9gXFh5CzDUVPFJivDhzdyXDGNXxlqIl2f_N3EjVmYuPlSpY6kdUpdBKd2_KDG6eyElbczcQ3DrNCu7tKDxmRe7AEL9KoFLrg-OmiZcOiYVyBDcjW_KBE5xFIoCQ_zTrOMhZnzXycVzmwaComNeIFe_]--></g></svg>