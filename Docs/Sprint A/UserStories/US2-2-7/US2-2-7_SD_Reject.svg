<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2046px" preserveAspectRatio="none" style="width:1714px;height:2046px;background:#FFFFFF;" version="1.1" viewBox="0 0 1714 2046" width="1714px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="291" x="712.5" y="29.5332">Sequence Diagram - Reject VVN (US 2.2.7)</text><rect fill="#FFFFFF" height="1784.9609" style="stroke:#181818;stroke-width:1.0;" width="10" x="435" y="169.9219"/><rect fill="#FFFFFF" height="72.9609" style="stroke:#181818;stroke-width:1.0;" width="10" x="769" y="200.2734"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1022.5" y="481.0156"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1022.5" y="706.6641"/><rect fill="#FFFFFF" height="74.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1022.5" y="1469.2578"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1022.5" y="1574.3125"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1022.5" y="1695.7188"/><rect fill="#FFFFFF" height="187.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1176" y="1097.3906"/><rect fill="#FFFFFF" height="77.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1384" y="1331.5"/><rect fill="none" height="1616.2969" style="stroke:#000000;stroke-width:1.5;" width="1697" x="10" y="331.5859"/><rect fill="none" height="1353.8125" style="stroke:#000000;stroke-width:1.5;" width="1677" x="20" y="587.0703"/><rect fill="none" height="1121.1641" style="stroke:#000000;stroke-width:1.5;" width="1657" x="30" y="812.7188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="109" x2="109" y1="121.2188" y2="1964.8828"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="440" x2="440" y1="121.2188" y2="1964.8828"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="773.5" x2="773.5" y1="121.2188" y2="1964.8828"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="910.5" x2="910.5" y1="239.5781" y2="1964.8828"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1027.5" x2="1027.5" y1="121.2188" y2="1964.8828"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1180.5" x2="1180.5" y1="121.2188" y2="1964.8828"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1389" x2="1389" y1="121.2188" y2="1964.8828"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1509" x2="1509" y1="121.2188" y2="1964.8828"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1629" x2="1629" y1="1372.8516" y2="1964.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="40" y="118.1426">Port Authority Officer</text><ellipse cx="109" cy="52.1094" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M109,60.1094 L109,87.1094 M96,68.1094 L122,68.1094 M109,87.1094 L96,102.1094 M109,87.1094 L122,102.1094 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="40" y="1978.416">Port Authority Officer</text><ellipse cx="109" cy="1989.9922" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M109,1997.9922 L109,2024.9922 M96,2005.9922 L122,2005.9922 M109,2024.9922 L96,2039.9922 M109,2024.9922 L122,2039.9922 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="224" x="328" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="210" x="335" y="110.1426">:VesselVisitNotificationsController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="224" x="328" y="1963.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="210" x="335" y="1985.416">:VesselVisitNotificationsController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="698.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="705.5" y="110.1426">:CallerContextFactory</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="698.5" y="1963.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="705.5" y="1985.416">:CallerContextFactory</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="859.5" y="1963.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="866.5" y="1985.416">:CallerContext</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="972.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="979.5" y="110.1426">:PortDbContext</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="972.5" y="1963.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="979.5" y="1985.416">:PortDbContext</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="177" x="1092.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="1099.5" y="110.1426">vvn:VesselVisitNotification</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="177" x="1092.5" y="1963.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="1099.5" y="1985.416">vvn:VesselVisitNotification</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="1341" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1348" y="110.1426">:DecisionLog</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="1341" y="1963.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1348" y="1985.416">:DecisionLog</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1447" y="118.1426">:EFCore InMemory</text><path d="M1491,67.6094 C1491,57.6094 1509,57.6094 1509,57.6094 C1509,57.6094 1527,57.6094 1527,67.6094 L1527,93.6094 C1527,103.6094 1509,103.6094 1509,103.6094 C1509,103.6094 1491,103.6094 1491,93.6094 L1491,67.6094 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1491,67.6094 C1491,77.6094 1509,77.6094 1509,77.6094 C1509,77.6094 1527,77.6094 1527,67.6094 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1447" y="1978.416">:EFCore InMemory</text><path d="M1491,1991.4922 C1491,1981.4922 1509,1981.4922 1509,1981.4922 C1509,1981.4922 1527,1981.4922 1527,1991.4922 L1527,2017.4922 C1527,2027.4922 1509,2027.4922 1509,2027.4922 C1509,2027.4922 1491,2027.4922 1491,2017.4922 L1491,1991.4922 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1491,1991.4922 C1491,2001.4922 1509,2001.4922 1509,2001.4922 C1509,2001.4922 1527,2001.4922 1527,1991.4922 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="1581" y="1963.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1588" y="1985.416">:DecisionLog</text><rect fill="#FFFFFF" height="1784.9609" style="stroke:#181818;stroke-width:1.0;" width="10" x="435" y="169.9219"/><rect fill="#FFFFFF" height="72.9609" style="stroke:#181818;stroke-width:1.0;" width="10" x="769" y="200.2734"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1022.5" y="481.0156"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1022.5" y="706.6641"/><rect fill="#FFFFFF" height="74.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1022.5" y="1469.2578"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1022.5" y="1574.3125"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1022.5" y="1695.7188"/><rect fill="#FFFFFF" height="187.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1176" y="1097.3906"/><rect fill="#FFFFFF" height="77.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1384" y="1331.5"/><polygon fill="#181818" points="423,165.9219,433,169.9219,423,173.9219,427,169.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="109" x2="429" y1="169.9219" y2="169.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="116" y="148.7139">POST /vvns/{id}/reject</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="116" y="165.0654">RejectVvnRequest(Reason, Notes)</text><polygon fill="#181818" points="757,196.2734,767,200.2734,757,204.2734,761,200.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="445" x2="763" y1="200.2734" y2="200.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="305" x="452" y="195.417">FromHeaders(Request.Headers, requireUserId: false)</text><polygon fill="#181818" points="847.5,226.625,857.5,230.625,847.5,234.625,851.5,230.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="779" x2="853.5" y1="230.625" y2="230.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="786" y="225.7686">create</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="859.5" y="208.2734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="866.5" y="229.8066">:CallerContext</text><polygon fill="#181818" points="456,269.2344,446,273.2344,456,277.2344,452,273.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="450" x2="773" y1="273.2344" y2="273.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="462" y="268.3779">caller</text><line style="stroke:#181818;stroke-width:1.0;" x1="445" x2="487" y1="303.5859" y2="303.5859"/><line style="stroke:#181818;stroke-width:1.0;" x1="487" x2="487" y1="303.5859" y2="316.5859"/><line style="stroke:#181818;stroke-width:1.0;" x1="446" x2="487" y1="316.5859" y2="316.5859"/><polygon fill="#181818" points="456,312.5859,446,316.5859,456,320.5859,452,316.5859" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="452" y="298.7295">ValidatePortAuthorityAccessAsync(caller)</text><path d="M10,331.5859 L71,331.5859 L71,339.9375 L61,349.9375 L10,349.9375 L10,331.5859 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1616.2969" style="stroke:#000000;stroke-width:1.5;" width="1697" x="10" y="331.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="346.0811">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="321" x="86" y="345.0049">[caller.Role != PortAuthorityOfficer &amp;&amp; caller.Role != Admin]</text><polygon fill="#181818" points="120,368.2891,110,372.2891,120,376.2891,116,372.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="114" x2="434" y1="372.2891" y2="372.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="126" y="367.4326">403 Forbidden</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1707" y1="381.2891" y2="381.2891"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="185" x="15" y="392.708">[request.Reason is null or empty]</text><polygon fill="#181818" points="120,430.8281,110,434.8281,120,438.8281,116,434.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="114" x2="434" y1="434.8281" y2="434.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="126" y="413.6201">422 Unprocessable Entity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="126" y="429.9717">"A rejection reason is required"</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1707" y1="443.8281" y2="443.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="125" x="15" y="455.2471">[caller.OrgId.HasValue]</text><polygon fill="#181818" points="1010.5,477.0156,1020.5,481.0156,1010.5,485.0156,1014.5,481.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="445" x2="1016.5" y1="481.0156" y2="481.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="452" y="476.1592">FindAsync(Organizations, caller.OrgId)</text><polygon fill="#181818" points="1497,507.3672,1507,511.3672,1497,515.3672,1501,511.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1032.5" x2="1503" y1="511.3672" y2="511.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275" x="1039.5" y="506.5107">SELECT * FROM Organizations WHERE Id = ?</text><polygon fill="#181818" points="1043.5,537.7188,1033.5,541.7188,1043.5,545.7188,1039.5,541.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1037.5" x2="1508" y1="541.7188" y2="541.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="1049.5" y="536.8623">org</text><polygon fill="#181818" points="456,568.0703,446,572.0703,456,576.0703,452,572.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="450" x2="1026.5" y1="572.0703" y2="572.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="462" y="567.2139">org</text><path d="M20,587.0703 L81,587.0703 L81,595.4219 L71,605.4219 L20,605.4219 L20,587.0703 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1353.8125" style="stroke:#000000;stroke-width:1.5;" width="1677" x="20" y="587.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="35" y="601.5654">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="168" x="96" y="600.4893">[org.Type != PORT_AUTHORITY]</text><polygon fill="#181818" points="120,640.125,110,644.125,120,648.125,116,644.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="114" x2="434" y1="644.125" y2="644.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="126" y="622.917">403 Forbidden</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="126" y="639.2686">"Not a Port Authority"</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="1697" y1="653.125" y2="653.125"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="33" x="25" y="664.5439">[valid]</text><polygon fill="#181818" points="1010.5,702.6641,1020.5,706.6641,1010.5,710.6641,1014.5,706.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="445" x2="1016.5" y1="706.6641" y2="706.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="452" y="685.4561">VesselVisitNotifications</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="452" y="701.8076">.SingleOrDefaultAsync(v =&gt; v.VvnGuid == id)</text><polygon fill="#181818" points="1497,733.0156,1507,737.0156,1497,741.0156,1501,737.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1032.5" x2="1503" y1="737.0156" y2="737.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267" x="1039.5" y="732.1592">SELECT * FROM VVNs WHERE VvnGuid = ?</text><polygon fill="#181818" points="1043.5,763.3672,1033.5,767.3672,1043.5,771.3672,1039.5,767.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1037.5" x2="1508" y1="767.3672" y2="767.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17" x="1049.5" y="762.5107">vvn</text><polygon fill="#181818" points="456,793.7188,446,797.7188,456,801.7188,452,797.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="450" x2="1026.5" y1="797.7188" y2="797.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17" x="462" y="792.8623">vvn</text><path d="M30,812.7188 L91,812.7188 L91,821.0703 L81,831.0703 L30,831.0703 L30,812.7188 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1121.1641" style="stroke:#000000;stroke-width:1.5;" width="1657" x="30" y="812.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="45" y="827.2139">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="65" x="106" y="826.1377">[vvn == null]</text><polygon fill="#181818" points="120,849.4219,110,853.4219,120,857.4219,116,853.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="114" x2="434" y1="853.4219" y2="853.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="126" y="848.5654">404 Not Found</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="1687" y1="862.4219" y2="862.4219"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="134" x="35" y="873.8408">[vvn.State != SUBMITTED]</text><polygon fill="#181818" points="120,911.9609,110,915.9609,120,919.9609,116,915.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="114" x2="434" y1="915.9609" y2="915.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="126" y="894.7529">409 Conflict</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="302" x="126" y="911.1045">"Only pending (SUBMITTED) VVNs can be rejected"</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="1687" y1="924.9609" y2="924.9609"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="33" x="35" y="936.3799">[valid]</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="1687" y1="940.7969" y2="940.7969"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="33" x="35" y="952.2158">[valid]</text><line style="stroke:#181818;stroke-width:1.0;" x1="445" x2="487" y1="1010.6875" y2="1010.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="487" x2="487" y1="1010.6875" y2="1023.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="446" x2="487" y1="1023.6875" y2="1023.6875"/><polygon fill="#181818" points="456,1019.6875,446,1023.6875,456,1027.6875,452,1023.6875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="452" y="973.1279">rejectorUserId = caller.UserId != Empty</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="452" y="989.4795">? caller.UserId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="452" y="1005.8311">: SystemPlaceholder</text><line style="stroke:#181818;stroke-width:1.0;" x1="445" x2="487" y1="1054.0391" y2="1054.0391"/><line style="stroke:#181818;stroke-width:1.0;" x1="487" x2="487" y1="1054.0391" y2="1067.0391"/><line style="stroke:#181818;stroke-width:1.0;" x1="446" x2="487" y1="1067.0391" y2="1067.0391"/><polygon fill="#181818" points="456,1063.0391,446,1067.0391,456,1071.0391,452,1067.0391" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="452" y="1049.1826">rejectionTimestamp = DateTime.UtcNow</text><polygon fill="#181818" points="1164,1093.3906,1174,1097.3906,1164,1101.3906,1168,1097.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="445" x2="1170" y1="1097.3906" y2="1097.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="296" x="452" y="1092.5342">Reject(new UserId(rejectorUserId), request.Reason)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1186" x2="1228" y1="1127.7422" y2="1127.7422"/><line style="stroke:#181818;stroke-width:1.0;" x1="1228" x2="1228" y1="1127.7422" y2="1140.7422"/><line style="stroke:#181818;stroke-width:1.0;" x1="1187" x2="1228" y1="1140.7422" y2="1140.7422"/><polygon fill="#181818" points="1197,1136.7422,1187,1140.7422,1197,1144.7422,1193,1140.7422" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="1193" y="1122.8857">RejectedById = rejector</text><line style="stroke:#181818;stroke-width:1.0;" x1="1186" x2="1228" y1="1171.0938" y2="1171.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="1228" x2="1228" y1="1171.0938" y2="1184.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="1187" x2="1228" y1="1184.0938" y2="1184.0938"/><polygon fill="#181818" points="1197,1180.0938,1187,1184.0938,1197,1188.0938,1193,1184.0938" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="1193" y="1166.2373">RejectedAt = DateTime.UtcNow</text><line style="stroke:#181818;stroke-width:1.0;" x1="1186" x2="1228" y1="1214.4453" y2="1214.4453"/><line style="stroke:#181818;stroke-width:1.0;" x1="1228" x2="1228" y1="1214.4453" y2="1227.4453"/><line style="stroke:#181818;stroke-width:1.0;" x1="1187" x2="1228" y1="1227.4453" y2="1227.4453"/><polygon fill="#181818" points="1197,1223.4453,1187,1227.4453,1197,1231.4453,1193,1227.4453" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="1193" y="1209.5889">RejectionReason = reason</text><line style="stroke:#181818;stroke-width:1.0;" x1="1186" x2="1228" y1="1257.7969" y2="1257.7969"/><line style="stroke:#181818;stroke-width:1.0;" x1="1228" x2="1228" y1="1257.7969" y2="1270.7969"/><line style="stroke:#181818;stroke-width:1.0;" x1="1187" x2="1228" y1="1270.7969" y2="1270.7969"/><polygon fill="#181818" points="1197,1266.7969,1187,1270.7969,1197,1274.7969,1193,1270.7969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="1193" y="1252.9404">State = REJECTED</text><polygon fill="#181818" points="456,1280.7969,446,1284.7969,456,1288.7969,452,1284.7969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="450" x2="1180" y1="1284.7969" y2="1284.7969"/><polygon fill="#181818" points="1372,1327.5,1382,1331.5,1372,1335.5,1376,1331.5" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="445" x2="1378" y1="1331.5" y2="1331.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288" x="452" y="1310.292">Rejected(vvn.VvnGuid, new UserId(rejectorUserId),</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="305" x="452" y="1326.6436">request.Reason, rejectionTimestamp, request.Notes)</text><polygon fill="#181818" points="1569,1374.2031,1579,1378.2031,1569,1382.2031,1573,1378.2031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1394" x2="1575" y1="1378.2031" y2="1378.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="1401" y="1356.9951">&#171;create&#187;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="1401" y="1373.3467">Outcome = Rejected</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="1581" y="1343.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1588" y="1365.127">:DecisionLog</text><polygon fill="#181818" points="456,1404.5547,446,1408.5547,456,1412.5547,452,1408.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="450" x2="1388" y1="1408.5547" y2="1408.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="462" y="1403.6982">decisionLog</text><polygon fill="#181818" points="1015.5,1434.9063,1025.5,1438.9063,1015.5,1442.9063,1019.5,1438.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="445" x2="1021.5" y1="1438.9063" y2="1438.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="452" y="1434.0498">DecisionLogs.Add(decisionLog)</text><polygon fill="#181818" points="1010.5,1465.2578,1020.5,1469.2578,1010.5,1473.2578,1014.5,1469.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="445" x2="1016.5" y1="1469.2578" y2="1469.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="452" y="1464.4014">SaveChangesAsync()</text><polygon fill="#181818" points="1497,1495.6094,1507,1499.6094,1497,1503.6094,1501,1499.6094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1032.5" x2="1503" y1="1499.6094" y2="1499.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="1039.5" y="1494.7529">UPDATE VVN, INSERT DecisionLog</text><polygon fill="#181818" points="1043.5,1525.9609,1033.5,1529.9609,1043.5,1533.9609,1039.5,1529.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1037.5" x2="1508" y1="1529.9609" y2="1529.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="1049.5" y="1525.1045">ok</text><polygon fill="#181818" points="456,1539.9609,446,1543.9609,456,1547.9609,452,1543.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="450" x2="1026.5" y1="1543.9609" y2="1543.9609"/><polygon fill="#181818" points="1010.5,1570.3125,1020.5,1574.3125,1010.5,1578.3125,1014.5,1574.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="445" x2="1016.5" y1="1574.3125" y2="1574.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="452" y="1569.4561">Organizations.FindAsync(caller.OrgId)</text><polygon fill="#181818" points="1497,1600.6641,1507,1604.6641,1497,1608.6641,1501,1604.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1032.5" x2="1503" y1="1604.6641" y2="1604.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275" x="1039.5" y="1599.8076">SELECT * FROM Organizations WHERE Id = ?</text><polygon fill="#181818" points="1043.5,1631.0156,1033.5,1635.0156,1043.5,1639.0156,1039.5,1635.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1037.5" x2="1508" y1="1635.0156" y2="1635.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="1049.5" y="1630.1592">rejectorOrg</text><polygon fill="#181818" points="456,1661.3672,446,1665.3672,456,1669.3672,452,1665.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="450" x2="1026.5" y1="1665.3672" y2="1665.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="462" y="1660.5107">rejectorOrg</text><polygon fill="#181818" points="1010.5,1691.7188,1020.5,1695.7188,1010.5,1699.7188,1014.5,1695.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="445" x2="1016.5" y1="1695.7188" y2="1695.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="452" y="1690.8623">Organizations.FindAsync(vvn.OrganizationId)</text><polygon fill="#181818" points="1497,1722.0703,1507,1726.0703,1497,1730.0703,1501,1726.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1032.5" x2="1503" y1="1726.0703" y2="1726.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275" x="1039.5" y="1721.2139">SELECT * FROM Organizations WHERE Id = ?</text><polygon fill="#181818" points="1043.5,1752.4219,1033.5,1756.4219,1043.5,1760.4219,1039.5,1756.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1037.5" x2="1508" y1="1756.4219" y2="1756.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="1049.5" y="1751.5654">submitterOrg</text><polygon fill="#181818" points="456,1782.7734,446,1786.7734,456,1790.7734,452,1786.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="450" x2="1026.5" y1="1786.7734" y2="1786.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="462" y="1781.917">submitterOrg</text><line style="stroke:#181818;stroke-width:1.0;" x1="445" x2="487" y1="1866.1797" y2="1866.1797"/><line style="stroke:#181818;stroke-width:1.0;" x1="487" x2="487" y1="1866.1797" y2="1879.1797"/><line style="stroke:#181818;stroke-width:1.0;" x1="446" x2="487" y1="1879.1797" y2="1879.1797"/><polygon fill="#181818" points="456,1875.1797,446,1879.1797,456,1883.1797,452,1879.1797" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="452" y="1812.2686">Build RejectVvnResponse</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="452" y="1828.6201">{ VvnId, Status: REJECTED,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="460" y="1844.9717">RejectionReason, RejectorInfo,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="460" y="1861.3232">SubmitterInfo }</text><polygon fill="#181818" points="120,1921.8828,110,1925.8828,120,1929.8828,116,1925.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="114" x2="434" y1="1925.8828" y2="1925.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="126" y="1904.6748">200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="126" y="1921.0264">RejectVvnResponse</text><!--SRC=[nLTjR-964FxkNp7bmmaYpedIawgYWnC4fw5DuWWCLIMaQh4NigtPfUirEUvq_xspNXlMZe6SLAaV4ddNCy_CFFDc55CnXGdz9wKyf31aP2N96jx3cFv5GmMpsICqfnEuTg_TdrgEGq8b93IUX5JGJzMpa4pjm5ykMKXb0qXIF3iR8XKBsOPm1OtEZ2O9ZMSiOUfHA8OYH371anl1bHHnd2iVZXNz6w8lzMlwMTrcNkmo3Ur4VZwbOj193R8EPRYmnVQdikHsou-5aQaXLHNe8GrHKl1xiJB0zqv455cGXE9Rx_P6I0eZ_a3NHJJ3WUFa1CBxdaK7TE39dmHmYLuabrzPzErIPXcQSvEfsHOVC8k9QeufIGHl0tf8avPE6TiIHMro7GiPxLWaeg5RATPtb4HK9iqSqytFRP1umIIT9bIEeWuiIPnGouQT3XjL1vEn3nSNQ2AK5ANB4jLuGvEjYDQ2Lo8eQSv8p91egbExBz9-66Bo-icEXqq3hSivLhaTToom4NxeGacfoCMxTrMnVhHct07Ri8wWKEZ0XwiVuLR81OiYoXsAD6NSQJ9DWe0bmDCu1cmekjwetKcqwskOyeqKEWYoG1yyhj31EM_qmLG25Xe-5SXvdgA6CPrxxylLA7BlI88KfRHYi7UeV5q5Z4U6BLGYd7qn3TikGRKGOf-UGz-0XQHX1uWtyUwzcm0ku7RiFq094tw_yyOUZ2BemYUjFCYYjxqHSbL6hURS25Z5OdkZlSHCeumRx3OcpVuu-BC_3UxyyIZu0mNUcafa71iB29HdO0CXCgQtklXUuPMZEJODvzoTCBwAgI-7T4dIM9aCRA7RWwsBFVvBof2bBh2C-YFadwSVPrN1-XuqexwMV9mvLTGg_ON8aGHaAJ19G4aTWAxyxEuaxn_q44FkKsueDGnlaIQbJM0U9zF1moW8lE5vi9_rosNCzD1i-3pUmORo2Fc6vXwbPQW92OS5pHjBDz71U9RUwlcrxGe_1ab8CpUHxBoByZC6ukaHCEUVoc_c75EtInHTFyKafCyYnZ7yLdDOKW5RuyGXwmsQ729b-knELVWeNfnQ6BtmE_dsRtBw0iQFPZc0Lhiop5evs3xxUXkQAurO0QRHO9UnKA2U4ksh6j-FocFC-NZjvjEmJjQKJnV6tg_O5VlYoMHANEOlhBBMWTKoDxotd6xg8irRgmqdU9ppCf7jcjmToCvNUeLh_AumDsQjrdnvFDANlH3wYTvcD-Zmnuz6gTURSpzLeLXdlEHXM2hL4eiE9bwJXCRgERAcYkLZulQZg6aXjivgJyYMtZmJlgBvJd_DIcd-rCt4wTEm7tWwesqOFKwySM0xLQZLBAE_NqEUgPg3CsSZAwr6zx26gtltEuFzZlrx9EoYT7svEXD_hV1_ouRkB_lT_yH9aYxMJ2dwDb9gfD_EIWbfaB8u0klJFzcWqtJEl-g5FiAPeqTScdJs8mud3LHdP3k_47B4boAJc1GkwXluvfnRgzTNL-3_LleLObmnApBRs_g__hDYjNhbNm00]--></g></svg>