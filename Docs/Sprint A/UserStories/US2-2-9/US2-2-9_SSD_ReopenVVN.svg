<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="736px" preserveAspectRatio="none" style="width:504px;height:736px;background:#FFFFFF;" version="1.1" viewBox="0 0 504 736" width="504px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="416" x="45" y="29.5332">US 2.2.9 - System Sequence Diagram: Reopen Rejected VVN</text><rect fill="#FFFFFF" height="477.6719" style="stroke:#181818;stroke-width:1.0;" width="10" x="66" y="148.8281"/><rect fill="#FFFFFF" height="320.8594" style="stroke:#181818;stroke-width:1.0;" width="10" x="450" y="187.5313"/><rect fill="none" height="298.8594" style="stroke:#000000;stroke-width:1.5;" width="487" x="10" y="202.5313"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="71" x2="71" y1="138.8281" y2="636.5"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="455" x2="455" y1="138.8281" y2="636.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="20" y="118.1426">Shipping Agent</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="20" y="135.752">Representative</text><ellipse cx="71" cy="52.1094" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M71,60.1094 L71,87.1094 M58,68.1094 L84,68.1094 M71,87.1094 L58,102.1094 M71,87.1094 L84,102.1094 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="20" y="650.0332">Shipping Agent</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="20" y="667.6426">Representative</text><ellipse cx="71" cy="679.2188" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M71,687.2188 L71,714.2188 M58,695.2188 L84,695.2188 M71,714.2188 L58,729.2188 M71,714.2188 L84,729.2188 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="423" y="106.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="430" y="127.752">:System</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="423" y="635.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="430" y="657.0332">:System</text><rect fill="#FFFFFF" height="477.6719" style="stroke:#181818;stroke-width:1.0;" width="10" x="66" y="148.8281"/><rect fill="#FFFFFF" height="320.8594" style="stroke:#181818;stroke-width:1.0;" width="10" x="450" y="187.5313"/><polygon fill="#181818" points="438,183.5313,448,187.5313,438,191.5313,442,187.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="76" x2="444" y1="187.5313" y2="187.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="83" y="174.499">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="264" x="94" y="166.3232">POST /api/vessel-visit-notifications/{id}:reopen</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="94" y="182.6748">(Headers: X-Role, X-Org-Id, X-User-Id)</text><path d="M10,202.5313 L71,202.5313 L71,210.8828 L61,220.8828 L10,220.8828 L10,202.5313 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="298.8594" style="stroke:#000000;stroke-width:1.5;" width="487" x="10" y="202.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="217.0264">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="394" x="86" y="215.9502">[VVN exists, is REJECTED, and belongs to representative's organization]</text><polygon fill="#181818" points="87,255.5859,77,259.5859,87,263.5859,83,259.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="81" x2="449" y1="259.5859" y2="259.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="93" y="246.5537">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="104" y="238.3779">200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="104" y="254.7295">(vvnId, state=IN_PROGRESS, message)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="497" y1="268.5859" y2="268.5859"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="87" x="15" y="280.0049">[VVN not found]</text><polygon fill="#181818" points="87,301.7734,77,305.7734,87,309.7734,83,305.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="81" x2="449" y1="305.7734" y2="305.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="93" y="300.917">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="104" y="300.917">404 Not Found</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="497" y1="314.7734" y2="314.7734"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="209" x="15" y="326.1924">[Not a Shipping Agent Representative]</text><polygon fill="#181818" points="87,364.3125,77,368.3125,87,372.3125,83,368.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="81" x2="449" y1="368.3125" y2="368.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="93" y="355.2803">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="104" y="347.1045">403 Forbidden</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="339" x="104" y="363.4561">("Only Shipping Agent Representatives can reopen VVNs")</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="497" y1="377.3125" y2="377.3125"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="215" x="15" y="388.7314">[VVN belongs to different organization]</text><polygon fill="#181818" points="87,426.8516,77,430.8516,87,434.8516,83,430.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="81" x2="449" y1="430.8516" y2="430.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="93" y="417.8193">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="104" y="409.6436">403 Forbidden</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="307" x="104" y="425.9951">("You can only reopen VVNs from your organization")</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="497" y1="439.8516" y2="439.8516"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="152" x="15" y="451.2705">[VVN not in REJECTED state]</text><polygon fill="#181818" points="87,489.3906,77,493.3906,87,497.3906,83,493.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="81" x2="449" y1="493.3906" y2="493.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="93" y="480.3584">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="104" y="472.1826">422 Unprocessable Entity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="104" y="488.5342">("Only rejected VVNs can be reopened")</text><path d="M81,513.3906 L81,621.3906 L357,621.3906 L357,523.3906 L347,513.3906 L81,513.3906 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M347,513.3906 L347,523.3906 L357,523.3906 L347,513.3906 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="87" y="531.8857">After successful reopen:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255" x="87" y="548.2373">- VVN state: REJECTED &#8594; IN_PROGRESS</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="87" y="564.5889">- Rejection metadata preserved</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="87" y="580.9404">- VVN is now editable</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="87" y="597.292">- Can update manifests, crew, ETA/ETD</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="87" y="613.6436">- Can resubmit for approval</text><!--SRC=[XPDHRzCm4CVVyobEUO59pLgLlH09f6eDC93QgMada2OX9xvaHebjR2UZGxpo0VY8V1BEJkbQnY0FYPESxtx__vrPvvJisW9Dv8Hh43OvJ4-dfyyXWNnh7RQGu-SEPOam5wmsh4rXXKgZfCSdB1rokBfQH14hdJ8GvpT2Qo5hcDKetRLSeJPeQScSw346PccVZZGpJfH2C-aWJeTAuUUm3Eb4pno6w8XkaBpyJPJ2vJ9VmvXfCUxHMcoINbZX4gcSg4H9fPIquw-2VqjDOBsMJzyWusXi2k-JbMfmHC-bgPCBxbSRYuQM9_TbznoDy_e0lmZhx0W4yMTli_DrDXy1anmAR9IiBJW5vaZh4mlAr4oAky0J0Lqx0GbfyP9Ic4uci7n7U7qlFOgblVZYOl7nShLylShoV0GjAMGrdaJOM0mi91CgrKd-zvndapDOKCYh419s-LS6nxs1uzOybkiPvJ65u3ou62zbi_rt8Wibap3uxd5jV81-u1ONLON6x_-_JGymFgWkb54Uvw0ML4Qri5MTESeQ_-6UaFik3fO_KdOwXOtKHfM-1mKTZqpICTdkZJ07Hs3GNU0E1xalIWs8E3wOAcAWE57VaFWgZ3Z0h79em7QbBrPrpIvFIh-I01v0qtlmdzz_mC6aXBZXJ99Y6Xl7E7CCGczCZtoVY6POgbj0BfmN5RwV4tkdkOTioROAmxIN1cz7aArdusmztyTHmgveXHz20qoJFprhl5RlBHu9zj9-0G00]--></g></svg>